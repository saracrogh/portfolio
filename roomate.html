<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Roommate Noise Guard - Sara Crogh</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400&display=swap" rel="stylesheet">
  <style>
/* ============== Design tokens (max 4 colors) ============== */
:root{
  --bg:#ffffff;           /* background */
  --ink:#111111;          /* primary text */
  --muted:#606060;        /* secondary text */
  --accent:#111111;       /* accent (monochrome) */

  --border: rgba(17,17,17,0.10);   
  --elev: rgba(17,17,17,0.04);     

  --radius: 10px;         /* unified radius */
  --container:1120px;

  --section-pad: 80px;    /* balanced section spacing */
  --space-md:16px;
}

*{box-sizing:border-box; box-shadow:none !important}
html{scroll-behavior:smooth}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size:1rem; line-height:1.6; font-weight:200; letter-spacing:-0.005em;
  padding-top:72px; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* ===== Typography (4 sizes, 2 weights: 200 & 400) ===== */
h1,h2,h3{margin:0 0 var(--space-md); font-weight:400; letter-spacing:-0.02em; color:var(--ink)}
h1{font-size:clamp(2.25rem,6vw,3rem); line-height:1.1}
h2{font-size:0.95rem; text-transform:uppercase; letter-spacing:0.12em}
h3{font-size:1.125rem}
p{margin:0 0 var(--space-md); color:var(--muted); font-size:1rem}
strong, .logo, .btn, .tech-title{font-weight:400}
.measure{max-width:68ch; margin-left:auto; margin-right:auto}

.container{max-width:var(--container); margin:0 auto; padding:0 20px}
/* ===== Header ===== */
/* ===== Header (from Healthy Cooking Blog) ===== */
header{
  position:fixed; inset:0 0 auto 0;
  z-index:1000; display:flex; align-items:center; justify-content:space-between;
  height:72px; padding:0 2.5%;
  background:rgba(255,255,255,0.75); /* lighter at top */
  backdrop-filter: blur(6px); /* subtle blur */
  border-bottom:1px solid var(--border);
}

.logo{font-size:.95rem; font-weight:400}

nav{display:flex; gap:28px}
nav a{
  font-weight:200; text-decoration:none; color:var(--muted);
  position:relative; font-size:0.95rem;
}
nav a:hover{color:var(--ink)}
nav a::after{
  content:""; position:absolute; left:0; bottom:-4px;
  height:1px; width:0; background:var(--ink);
  transition:width .25s ease;
}
nav a:hover::after{width:100%}


.nav{display:flex; align-items:center; gap:16px; width:100%}
.back-link{margin-left:auto; text-decoration:none; color:var(--muted); font-size:0.95rem; font-weight:200; position:relative}
.back-link:hover{color:var(--ink)}
.back-link::after{content:""; position:absolute; left:0; bottom:-4px; height:1px; width:0; background:var(--ink); transition:width .25s ease}
.back-link:hover::after{width:100%}

/* ===== Hero ===== */
.hero{padding:var(--section-pad) 0; border-bottom:none; text-align:center}
.project-tag{
  display:inline-block; margin-bottom:8px; font-size:0.85rem; color:var(--muted);
  background:transparent; border:1px solid var(--border);
  padding:6px 12px; border-radius:999px; font-weight:200
}
.hero-subtitle{
  font-size:1rem; color:var(--muted);
  margin-top:20px; max-width:68ch; text-align:center; margin-left:auto; margin-right:auto;
}

/* ===== Sections ===== */
.section{padding:var(--section-pad) 0}
.section-title{text-align:center; margin-bottom:var(--space-md)}

/* ===== Grids ===== */
.two-col{display:grid; grid-template-columns:1fr 1fr; gap:36px; align-items:start}

/* ===== Problem ===== */
.problem .highlight{
  background:transparent; border:1px solid var(--border);
  padding:16px; border-radius:var(--radius); margin:var(--space-md) 0; color:var(--muted)
}

/* ===== Solution ===== */
.image-wrap{position:relative}
.main-image{
  width:100%; height:380px; object-fit:cover;
  border:none !important; border-radius:0 !important;
}
.floating-spec{
  position:absolute; background:var(--bg); color:var(--muted);
  padding:8px 12px; border-radius:var(--radius); border:1px solid var(--border);
  font-size:0.85rem; font-weight:400
}
.spec-1{top:-10px; right:-10px}
.spec-2{bottom:-10px; left:-10px}
.tech-stack{
  background:transparent; border:1px solid var(--border);
  padding:16px; border-radius:var(--radius); margin:var(--space-md) 0
}
.tech-title{font-size:0.95rem; margin-bottom:8px}
.tech-list{display:flex; flex-wrap:wrap; gap:8px}
.tech-item{
  background:var(--bg); border:1px solid var(--border);
  padding:6px 10px; border-radius:999px; font-size:0.85rem; font-weight:400; color:var(--ink)
}

/* ===== Build gallery ===== */
.media-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:16px; margin-top:var(--space-md)}
.media{
  margin:0; background:var(--bg); border:1px solid var(--border);
  border-radius:var(--radius); overflow:hidden; text-align:center;
}
.media img{display:block; width:100%; height:240px; object-fit:cover; border:none !important; border-radius:0 !important}
.media figcaption{font-size:0.9rem; color:var(--muted); padding:10px 12px; border-top:1px solid var(--border)}

/* ===== Timeline ===== */
.timeline{position:relative; margin-top:var(--space-md)}
.timeline::before{content:""; position:absolute; left:24px; top:0; bottom:0; width:1px; background:var(--border)}
.t-item{display:flex; align-items:center; gap:16px; margin-bottom:24px}
.t-num{
  flex-shrink:0; width:46px; height:46px; border-radius:999px; background:var(--ink);
  color:#fff; font-weight:400; font-size:1.125rem; display:flex; align-items:center; justify-content:center
}
.t-card{
  flex:1; background:var(--bg); border:1px solid var(--border);
  padding:20px; border-radius:var(--radius); font-size:1rem
}

/* ===== Results ===== */
.results-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:20px; margin-top:var(--space-md)}
.result-card{
  background:var(--bg); border:1px solid var(--border);
  padding:24px 20px; border-radius:var(--radius); text-align:center;
}
.result-icon{
  width:56px; height:56px; border-radius:999px; background:var(--accent); color:#fff;
  display:grid; place-items:center; margin:0 auto 12px; font-weight:400; font-size:1.125rem
}
.result-title{font-size:0.95rem; font-weight:400; color:var(--ink); margin-bottom:4px}
.result-desc{color:var(--muted); font-size:1rem}

/* ===== Learnings ===== */
.learnings{background:var(--ink); color:#fff; padding:var(--section-pad) 0}
.learnings .section-title{color:#e8e8e8}
.l-grid{display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:var(--space-md)}
.l-card{
  background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.14);
  padding:18px; border-radius:var(--radius)
}
.l-card h3{color:#ffffff; font-weight:400; margin-bottom:8px}
.l-card p{color:#d8d8d8}

/* ===== Code ===== */
.snippet{
  background:var(--bg); border:1px solid var(--border); border-radius:var(--radius); margin-bottom:12px;
}
.snippet>summary{cursor:pointer; padding:14px 16px; font-size:0.98rem; color:var(--ink); font-weight:400}
.snippet[open]>summary{border-bottom:1px solid var(--border)}
.snippet pre{margin:0; padding:14px 16px; overflow-x:auto; font-size:0.9rem; line-height:1.5; background:#f8f8f8}

/* ===== CTA ===== */
.cta{text-align:center; padding:var(--section-pad) 0; border-top:1px solid var(--border)}
.btn{display:inline-block; background:var(--accent); color:#fff; padding:12px 22px; border-radius:999px; border:1px solid var(--accent); font-weight:400; text-decoration:none}
.btn:hover{opacity:.9}

/* ===== Motion ===== */
.fade-in{opacity:0; transform:translateY(16px); transition:opacity .6s ease, transform .6s ease}
.fade-in.visible{opacity:1; transform:translateY(0)}
.slide-left{opacity:0; transform:translateX(-28px); transition:opacity .6s ease, transform .6s ease}
.slide-left.visible{opacity:1; transform:translateX(0)}
.slide-right{opacity:0; transform:translateX(28px); transition:opacity .6s ease, transform .6s ease}
.slide-right.visible{opacity:1; transform:translateX(0)}

@media (max-width:900px){
  .two-col{grid-template-columns:1fr; gap:20px}
  .main-image{height:320px}
  .l-grid{grid-template-columns:1fr}
}

@media (prefers-reduced-motion:reduce){
  .fade-in,.slide-left,.slide-right{transition:none; transform:none; opacity:1}
  html{scroll-behavior:auto}
}

a:focus-visible,button:focus-visible{outline:2px solid var(--ink); outline-offset:2px}

/* ===== Vertical Rhythm Tightening ===== */

/* Headings */
h1, h2, h3 { margin-bottom: 12px; } /* was 16–20px */

/* Paragraphs */
p { margin-bottom: 12px; }

/* Subsection titles inside sections */
.section-title { margin-bottom: 16px; }

/* Component spacing inside sections */
.problem .highlight,
.tech-stack,
.media-grid,
.results-grid,
.timeline,
.l-grid { margin-top: 16px; }

/* Cards inner headings */
.t-card h3,
.result-title,
.l-card h3,
.tech-title { margin-bottom: 6px; }

/* Timeline items spacing */
.t-item { margin-bottom: 20px; }

/* Results → Learnings extra gap for hierarchy */
.section.results { padding-bottom: calc(var(--section-pad) + 20px); }

/* Make sure all sections use same base padding */
.section,
.learnings,
.cta { padding: var(--section-pad) 0; }
  /* Keep the video responsive */
  .video-container {
    position: relative;
    width: 100%;
    max-width: 800px; /* optional max width */
    aspect-ratio: 16 / 9; /* keeps the correct shape */
    overflow: hidden;
    margin: auto;
  }

  .video-container iframe {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    border: none;
  }
  </style>
</head>
<body>
<header>
  <div class="logo"><a href="index.html" style="text-decoration: none; color: inherit;">Sara Crogh</a></div>
  <nav>
    <a href="work.html">Work</a>
    <a href="about.html">About Me</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>


  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <span class="project-tag">IoT Product Development and Design</span>
      <h1>Roommate Noise Guard</h1>
      <p class="hero-subtitle measure">
        An intelligent IoT device that prevents roommate conflicts by monitoring noise
        and intervening gently—preserving both peace and relationships.
      </p>
    </div>
  </section>

  <!-- Problem -->
  <section class="section problem">
    <div class="container">
      <h2 class="section-title fade-in">The Problem</h2>
      <div class="two-col">
        <div class="slide-left">
          <div class="measure">
            <p>
              Shared living often means shared noise. Confronting a roommate about loud behavior is awkward, strains relationships, and creates long-term tension.
              From my own experiences and interviews with friends, noise emerged as a universal pain point. The aim wasn’t just to quiet the space—it was to preserve harmony without direct confrontation.
            </p>
            <div class="highlight">
              <strong>The core challenge:</strong> keep the home peaceful without sacrificing relationships. People either avoid the talk—letting resentment build—or have uncomfortable conversations that make things worse.
            </div>
          </div>
        </div>
        <div class="slide-right">
          <img
            src="/images/esp32_noise_guard/Adobe Express - file (3).png"
            alt="Prototype"
            style="width:100%; max-width:420px; border-radius:12px; object-fit:cover; max-height:420px;"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Solution -->
  <section class="section solution">
    <div class="container">
      <h2 class="section-title fade-in">The Solution</h2>
      <div class="two-col">
        <div class="image-wrap slide-left">
          <img src="/images/esp32_noise_guard/example.webp" alt="Roommate Noise Guard prototype on wall" class="main-image"/>
          <div class="floating-spec spec-1">24-bit Audio Precision</div>
          <div class="floating-spec spec-2">60 Hz–15 kHz Range</div>
        </div>
        <div class="slide-right">
          <div class="measure">
            <p>A discreet system detects threshold violations and responds with graduated, non-confrontational nudges.</p>
            <div class="tech-stack">
              <div class="tech-title">Core Technology Stack</div>
              <div class="tech-list">
                <span class="tech-item">ESP32</span>
                <span class="tech-item">INMP441 MEMS Mic</span>
                <span class="tech-item">MicroPython</span>
                <span class="tech-item">IFTTT (cloud)</span>
                <span class="tech-item">I²S Audio</span>
                <span class="tech-item">PWM</span>
              </div>
            </div>
            <p><strong>Smart intervention:</strong> LED visual cues → soft audio reminders → private SMS notifications.</p>
            <p><strong>Key detail:</strong> 2-second sampling with cloud-managed thresholds for easy sensitivity and quiet-hour tuning.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Build Gallery -->
  <section class="section build">
    <div class="container">
      <h2 class="section-title fade-in">Build Gallery</h2>
      <div class="media-grid">
        <figure class="media fade-in">
          <img src="/images/esp32_noise_guard/noise_guard_breadboard.avif" alt="ESP32 with INMP441 on breadboard">
          <figcaption>ESP32 + INMP441 on breadboard</figcaption>
        </figure>
        <figure class="media fade-in">
          <img src="/images/esp32_noise_guard/noise_guard_circuit.avif" alt="Circuit schematic for mic and buzzer driver">
          <figcaption>Circuit schematic (mic &amp; buzzer driver)</figcaption>
        </figure>
        <figure class="media fade-in">
          <img src="/images/esp32_noise_guard/Remove background project (3).png" alt="Enclosure mockup with LED indicator">
          <figcaption>Enclosure mockup w/ LED cue</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- Development Process -->
  <section class="section process">
    <div class="container">
      <h2 class="section-title fade-in">Development Process</h2>
      <div class="timeline">
        <div class="t-item fade-in">
          <div class="t-num">1</div>
          <div class="t-card">
            <h3>User Research</h3>
            <p>Interviewed 15+ people in shared housing. 80% preferred anonymous notifications over direct confrontation.</p>
          </div>
        </div>
        <div class="t-item fade-in">
          <div class="t-num">2</div>
          <div class="t-card">
            <h3>Hardware</h3>
            <p>Selected INMP441 for high SNR and digital I²S. Added a simple driver stage to boost buzzer output for clear audio alerts.</p>
          </div>
        </div>
        <div class="t-item fade-in">
          <div class="t-num">3</div>
          <div class="t-card">
            <h3>Software &amp; Cloud</h3>
            <p>Optimized MicroPython for 4 MB constraints. Chose IFTTT over MQTT for reliability and easy SMS integration.</p>
          </div>
        </div>
        <div class="t-item fade-in">
          <div class="t-num">4</div>
          <div class="t-card">
            <h3>Testing &amp; Calibration</h3>
            <p>Separate thresholds for conversation, TV, and music. Tuned 2-second windows to avoid notification loops.</p>
          </div>
        </div>
        <div class="t-item fade-in">
          <div class="t-num">5</div>
          <div class="t-card">
            <h3>User Trials</h3>
            <p>Beta in 3 households for 2 weeks. Iterated on timing, sensitivity, and UX based on feedback.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Results -->
  <section class="section results">
    <div class="container">
      <h2 class="section-title fade-in">Results &amp; Impact</h2>
      <div class="results-grid">
        <div class="result-card fade-in">
          <div class="result-icon">25%</div>
          <div class="result-title">Conflict Reduction</div>
          <p class="result-desc">Beta testers reported ~85% fewer noise-related confrontations.</p>
        </div>
        <div class="result-card fade-in">
          <div class="result-icon">2s</div>
          <div class="result-title">Real-time Response</div>
          <p class="result-desc">Detects and responds within ~2 seconds.</p>
        </div>
        <div class="result-card fade-in">
          <div class="result-icon">24/7</div>
          <div class="result-title">Continuous Monitoring</div>
          <p class="result-desc">24/7 monitoring with customizable quiet hours.</p>
        </div>
        <div class="result-card fade-in">
          <div class="result-icon">$35</div>
          <div class="result-title">Low-cost</div>
          <p class="result-desc">Total component cost under $35.</p>
        </div>
      </div>
    </div>
  </section>

<!-- Replace your current video block with this -->
<div class="video-container">
  <iframe
    src="https://www.youtube.com/embed/gliL5njVbEg"
    title="YouTube video player"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen
    loading="lazy"
    referrerpolicy="strict-origin-when-cross-origin"


  ></iframe>
</div>

  

  <!-- Learnings -->
  <section class="learnings">
    <div class="container">
      <h2 class="section-title fade-in">Challenges &amp; Key Learnings</h2>
      <div class="l-grid">
        <div class="l-card slide-left">
          <h3>Technical: Memory Optimization</h3>
          <p>Instead of storing audio on the ESP32 (4 MB), I process in real time with threshold triggers to cut memory use.</p>
        </div>
        <div class="l-card slide-right">
          <h3>Product: User Psychology</h3>
          <p>Direct SMS felt aggressive; graduated cues (visual → audio → digital) changed behavior with less friction.</p>
        </div>
        <div class="l-card slide-left">
          <h3>Engineering: Audio Processing</h3>
          <p>Frequency + duration (not just volume) help distinguish disruptive noise from normal living sounds.</p>
        </div>
        <div class="l-card slide-right">
          <h3>Scale: Cloud Architecture</h3>
          <p>IFTTT limits suggest a custom backend for richer routing and settings at larger scale.</p>
        </div>
      </div>
    </div>
  </section>


  <!-- Code -->
  <section class="section code">
    <div class="container">
      <h2 class="section-title fade-in">Code</h2>
      <div class="hero-subtitle measure" style="margin-bottom:var(--space-sm); color:var(--muted);">
        Core snippets from the prototype. Full repo available here:https://github.com/saracrogh/Noise-guard.
      </div>

      <details class="snippet fade-in" open>
        <summary>boot.py (Wi-Fi bring-up)</summary>
<pre><code># boot.py (excerpt) — keep minimal so main.py always runs
import network, time
SSID = "YOUR_SSID"
PASS = "YOUR_PASSWORD"
wlan = network.WLAN(network.STA_IF); wlan.active(True)
if not wlan.isconnected():
    wlan.connect(SSID, PASS)
    for _ in range(20):
        if wlan.isconnected(): break
        time.sleep(0.5)
print("Wi-Fi:", "OK" if wlan.isconnected() else "FAILED", wlan.ifconfig())
</code></pre>
      </details>

      <details class="snippet fade-in">
        <summary>main.py (I²S mic + optional cloud)</summary>
<pre><code># main.py (excerpt)
from machine import Pin, PWM, I2S
import struct, time
THRESHOLD, WINDOW_S, SAMPLE_RATE, CHUNK_BYTES = 440, 2, 16000, 6400
led = Pin(26, Pin.OUT); buz = PWM(Pin(15), freq=1, duty=0); C3,G3,DUTY = 2000,3000,500
def play_buzzer():
    for _ in range(2):
        buz.duty(DUTY); buz.freq(C3); time.sleep(0.5)
        buz.freq(G3); time.sleep(0.5)
        buz.duty(0); time.sleep(1.0)
sck, ws, sd = Pin(12), Pin(13), Pin(27)
i2s = I2S(0, sck=sck, ws=ws, sd=sd, mode=I2S.RX, bits=16, format=I2S.MONO, rate=SAMPLE_RATE, ibuf=16000)
def avg_amplitude_over_window(seconds=WINDOW_S):
    target_bytes = int(SAMPLE_RATE * seconds * 2)
    got = runsum = numsamples = 0
    buf = bytearray(CHUNK_BYTES); mv = memoryview(buf)
    while got < target_bytes:
        n = i2s.readinto(mv)
        if not n: break
        for x in range(0, n, 4):
            l, r = struct.unpack_from("<hh", mv, x)
            runsum += abs(l) + abs(r); numsamples += 2
        got += n
    return (runsum / max(numsamples, 1)) if numsamples else 0
while True:
    led.value(0); avg = avg_amplitude_over_window(WINDOW_S); print("avg:", int(avg))
    if avg > THRESHOLD: led.value(1); play_buzzer()
    time.sleep(0.5)
</code></pre>
      </details>

      <details class="snippet fade-in">
        <summary>config.json (quiet hours &amp; sensitivity)</summary>
<pre><code>{
  "quiet_hours": { "start": "22:00", "end": "07:00" },
  "threshold_db": 50,
  "window_s": 2
}
</code></pre>
      </details>
    </div>
  </section>

  <!-- Future Roadmap -->
  <section class="section process">
    <div class="container">
      <h2 class="section-title fade-in">Future Roadmap</h2>
      <div class="timeline">
        <div class="t-item fade-in"><div class="t-num">1</div><div class="t-card"><h3>Mobile App</h3><p>Calibration tools, quiet hours scheduling, and real-time monitoring.</p></div></div>
        <div class="t-item fade-in"><div class="t-num">2</div><div class="t-card"><h3>ML Classification</h3><p>Differentiate music, conversation, and appliance noise for smarter alerts.</p></div></div>
        <div class="t-item fade-in"><div class="t-num">3</div><div class="t-card"><h3>Multi-Room Mesh</h3><p>Coordinate multiple devices for complete apartment coverage.</p></div></div>
        <div class="t-item fade-in"><div class="t-num">4</div><div class="t-card"><h3>Sleek Enclosure</h3><p>Move from breadboard to a polished housing.</p></div></div>
        <div class="t-item fade-in"><div class="t-num">5</div><div class="t-card"><h3>Assistant Integrations</h3><p>Connect with Alexa and Google Home.</p></div></div>
      </div>
    </div>
  </section>

  <script>
    // reveal on scroll
    const observer = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('visible'); });
    },{threshold:0.1,rootMargin:'0px 0px -60px 0px'});
    document.querySelectorAll('.fade-in,.slide-left,.slide-right').forEach(el=>observer.observe(el));

    // header elevation
    const header=document.querySelector('header');
    addEventListener('scroll',()=>{
      const y=window.pageYOffset||document.documentElement.scrollTop;
      header.style.boxShadow = y>96?'0 2px 18px rgba(17,17,17,0.08)':'none';
      header.style.background = y > 96? 'rgba(255,255,255,0.90)': 'rgba(255,255,255,0.75)'
    });

    // stagger timeline
    const items=document.querySelectorAll('.t-item');
    const tObs=new IntersectionObserver((ents)=>{
      ents.forEach((entry,idx)=>{
        if(entry.isIntersecting) setTimeout(()=>entry.target.classList.add('visible'), idx*120);
      });
    },{threshold:0.5});
    items.forEach(i=>tObs.observe(i));
  </script>
</body>
</html>
